<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<title>صفحه شطرنج انیمیشنی</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #1a1a1a, #000);
    font-family: sans-serif;
    color: #fff;
  }

  h2 {
    margin-bottom: 10px;
  }

  .controls {
    margin-bottom: 15px;
  }

  input {
    padding: 5px 10px;
    border-radius: 8px;
    border: 2px solid #00ffe4;
    background: #111;
    color: #00ffe4;
    outline: none;
  }

  .board {
    --n: 8;
    --size: 60px;
    display: grid;
    grid-template-columns: repeat(var(--n), var(--size));
    width: calc(var(--n) * var(--size));
    height: calc(var(--n) * var(--size));
    border: 4px solid #00ffe4;
    border-radius: 10px;
    overflow: hidden;
    transform-style: preserve-3d;
    animation: spinBoard 15s infinite linear;
    box-shadow: 0 0 40px rgba(0,255,228,0.5);
  }

  .square {
    width: var(--size);
    height: var(--size);
    display: grid;
    place-items: center;
    transition: background 0.5s ease, transform 0.5s ease;
    animation: pulse 6s infinite ease-in-out;
  }

  .light { background: #e8c4ff; }
  .dark  { background: #4b4b4b; }

  /* انیمیشن سه‌بعدی کل بورد */
  @keyframes spinBoard {
    0%   { transform: rotateX(0deg) rotateY(0deg); }
    25%  { transform: rotateX(20deg) rotateY(25deg) scale(1.05); }
    50%  { transform: rotateX(0deg) rotateY(45deg) scale(1); }
    75%  { transform: rotateX(-20deg) rotateY(25deg) scale(1.05); }
    100% { transform: rotateX(0deg) rotateY(0deg); }
  }

  /* انیمیشن نور و سایه روی خونه‌ها */
  @keyframes pulse {
    0%   { filter: brightness(1); transform: scale(1); }
    25%  { filter: brightness(1.3); transform: scale(1.05); }
    50%  { filter: brightness(1); transform: scale(1); }
    75%  { filter: brightness(0.7); transform: scale(0.95); }
    100% { filter: brightness(1); transform: scale(1); }
  }
</style>
</head>
<body>
  <h2>صفحه شطرنج انیمیشنی</h2>
  <div class="controls">
    <input type="number" id="sizeInput" value="8" min="2" max="20">
    <button onclick="updateBoard()">بساز</button>
  </div>
  <div id="board" class="board"></div>

<script>
  const boardEl = document.getElementById('board');
  const inputEl = document.getElementById('sizeInput');

  function buildBoard(n) {
    boardEl.style.setProperty('--n', n);
    boardEl.innerHTML = '';
    for (let r = 0; r < n; r++) {
      for (let c = 0; c < n; c++) {
        const sq = document.createElement('div');
        sq.className = 'square ' + ((r + c) % 2 === 0 ? 'light' : 'dark');
        boardEl.appendChild(sq);
      }
    }
  }

  function updateBoard() {
    const n = parseInt(inputEl.value);
    if (!isNaN(n) && n > 1 && n <= 20) {
      buildBoard(n);
    }
  }

  buildBoard(8);
</script>
</body>
</html>
